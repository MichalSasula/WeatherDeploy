!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){e.exports=n.p+"984e76a063187b5f5899643fda3987f5.png"},function(e,t,n){e.exports=n.p+"360f51dfef585da61dce5655c5f1e4f7.png"},function(e,t,n){e.exports=n.p+"891b9635556e08ba1ae91711a3d3ca73.jpg"},function(e,t,n){e.exports=n.p+"a8105caf5cbf7a91de9418d38b681e3e.jpg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){const n=document.querySelectorAll(".showHide");document.querySelectorAll(".content"),document.querySelector(".close"),document.querySelector("#help");for(let e=0;e<n.length;e++)n[e].onclick=function(){let e=this.parentElement.nextElementSibling;e.style.maxHeight?(e.style.maxHeight=null,this.classList.remove("isOpen")):(e.style.maxHeight=e.scrollHeight+"px",this.classList.add("isOpen"))}},function(e,t,n){"use strict";n.r(t);n(4),n(5),n(6);var r=n(0),i=n.n(r),o=n(1),a=n.n(o),l=n(2),u=n.n(l),d=n(3),c=n.n(d);const s={image:`url(${u.a})`,dimness:"rgba(220,170,200, 0.3)"},m={image:`url(${c.a})`,dimness:"rgba(15,15,36,0.3)"};let g;function p(){g=function(){const e=(new Date).getHours();return e>=21||e<=6}()?m:s,document.getElementById("background").style.backgroundImage=g.image}n(7);let f,y=[],h=0;function b(e){var t={"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ó":"O","Ś":"S","Ź":"Z","Ż":"Z"};return e.replace(/[ąćęłńóśźżĄĆĘŁŃÓŚŹŻ]/g,e=>t[e])}async function w(e){let t=function(e){return`https://api.openweathermap.org/data/2.5/forecast?q=${e=b(e)}&units=metric&lang={pl}&APPID=aa89918a50010961a10dfbbee0781cb1`}(e),n="";h=0,y=[];document.querySelector("body");return await fetch(t).then(e=>e.json()).then(e=>{"200"===(h=e.cod)?void 0!==e&&y.push(...e.list):n=e.message}),"200"!==h?n:y}const E=e=>{switch(e){case 0:return"Niedziela";case 1:return"Poniedziałek";case 2:return"Wtorek";case 3:return"Środa";case 4:return"Czwartek";case 5:return"Piątek";case 6:return"Sobota"}},v=e=>`https://openweathermap.org/img/wn/${e}@2x.png`,x=e=>{let t=document.getElementById("hourSlider"),n=new Date(y[0].dt_txt).getHours();t.value=n;let r=e.currentTarget.dataset.shortindex;t.min=0==r?n:0,t.dataset.tilenumber=r},I=()=>{let e=document.getElementById("hourSlider"),t=e.dataset.tilenumber,n=new Date(y[0].dt_txt).getHours();return y[8*t+(e.value-n)/3].dt},S=(e,t)=>{""===e&&(e="Wrocław");let n=y.find(e=>e.dt===t),r={weatherDescription:n.weather[0].description,weatherIcon:n.weather[0].icon,temperature:n.main.temp,pressure:n.main.pressure,humidity:n.main.humidity,windSpeed:n.wind.speed,clouds:n.clouds.all},i=document.querySelectorAll(".detail");i[0].innerHTML=`\n    <figure>\n        <img src="${v(r.weatherIcon)}"></img>\n        <figcaption><b>${r.weatherDescription}</b></figcaption>\n        </figure>\n        `,i[1].innerHTML=`\n    <figure>\n        <i class="wi wi-thermometer"></i>\n        <figcaption><b>Temperatura</b> ${r.temperature}°C</figcaption>\n    </figure>\n    `,i[2].innerHTML=`\n    <figure>\n    <i class="wi wi-barometer"></i>\n        <figcaption><b>Ciśnienie</b> ${r.pressure}hPa</figcaption>\n    </figure>\n    `,i[3].innerHTML=`\n    <figure>\n    <i class="wi wi-humidity"></i>\n        <figcaption><b>Wilgotność</b> ${r.humidity}%</figcaption>\n    </figure>\n    `,i[4].innerHTML=`\n    <figure>\n    <i class="wi wi-strong-wind"></i>\n        <figcaption><b>Wiatr</b> ${r.windSpeed}m/s</figcaption>\n    </figure>\n    `,i[5].innerHTML=`\n    <figure>\n        <i class="wi wi-day-cloudy"></i>\n        <figcaption><b>Zachmurzenie</b> ${r.clouds}%</figcaption>\n    </figure>\n    `;let o=document.getElementById("detailedHeader"),a=new Date(n.dt_txt),l=a.getHours(),u=a.getDate(),d=a.getMonth()+1;u<10&&(u="0"+u),d<10&&(d="0"+d),o.innerHTML=`${e}     ${u}.${d}<br>Godzina: <b>${l}:00</br>`},H=function(e){f.style.backgroundColor="rgba(220,170,200, 0.0)";let t=e.currentTarget.dataset.shortindex,n=y[8*t].dt,r=document.getElementById("placeInput").value;e.currentTarget.style.backgroundColor=g.dimness,f=e.currentTarget,S(r,n)};let L=[],T=[],B=[],$=[],k=[],C=[];const M="black";function A(e){L=[],T=[];for(let t=0;t<9;t++)L.push(e[t].dt_txt.substr(5,11)),T.push(e[t].main.temp);!function(){const e=document.getElementById("chart").getContext("2d");new Chart(e,{type:"line",data:{labels:L,datasets:[{label:"Temperatura",fill:!1,backgroundColor:"#bbb",borderColor:M,data:T}]},options:{title:{display:!0,text:"Temperatura godzinowa [°C]",fontSize:20},legend:{display:!1}}})}(),B=[],$=[];for(let t=0;t<9;t++)B.push(e[t].dt_txt.substr(5,11)),$.push(e[t].main.pressure);!function(){const e=document.getElementById("chart2").getContext("2d");new Chart(e,{type:"line",data:{labels:B,datasets:[{label:"Ciśnienie",fill:!1,backgroundColor:"#bbb",borderColor:M,data:$}]},options:{title:{display:!0,text:"Ciśnienie [hPa]",fontSize:20},legend:{display:!1}}})}(),k=[],C=[];for(let t=0;t<9;t++)k.push(e[t].dt_txt.substr(5,11)),C.push(e[t].main.humidity);!function(){const e=document.getElementById("chart3").getContext("2d");new Chart(e,{type:"line",data:{labels:k,datasets:[{label:"Wilgotność",fill:!1,backgroundColor:"#bbb",borderColor:M,data:C}]},options:{title:{display:!0,text:"Wilgotność [%]",fontSize:20},legend:{display:!1}}})}()}const D=document.getElementById("placeInput"),q=document.getElementById("messages"),_=document.getElementById("submit");let P=[];D.addEventListener("input",(function(e){let t=b(this.value);null!==/[^A-Za-z_\s]/.exec(t)?(q.style.display="block",document.getElementById("typingError").style.display="block",!P.includes(1)&&P.push(1),_.setAttribute("disabled","disabled")):(document.getElementById("typingError").style.display="none",0==(P=P.filter(e=>1!=e)).length&&(q.style.display="none",_.removeAttribute("disabled")))}));let z=document.getElementById("hourSlider");_.addEventListener("click",(async function(e){const t=await w(D.value),n=document.getElementById("error-info"),r=document.getElementById("weather-info");n.style.display="none",r.style.display="none","200"===h?(await(e=>{let t=[],n=-1,r=-1;for(let i=0;i<e.length;i++){let o=new Date(e[i].dt_txt).getDate();o!==r?t[++n]=[e[i]]:t[n].push(e[i]),r=o}let i={temperature:[],pressure:[],humidity:[],dayDate:[]};for(let e of t){i.temperature.push(e.reduce((e,t)=>e+t.main.temp,0)/e.length),i.pressure.push(e.reduce((e,t)=>e+t.main.pressure,0)/e.length),i.humidity.push(e.reduce((e,t)=>e+t.main.humidity,0)/e.length);let t=new Date(e[0].dt_txt).getDay(),n=new Date(e[0].dt_txt).getDate();n<10&&(n="0"+n);let r=new Date(e[0].dt_txt).getMonth()+1;r<10&&(r="0"+r),i.dayDate.push(`${E(t)}<br>${n}.${r}`)}for(let e in i)"dayDate"!==e&&(i[e]=i[e].map(e=>e.toFixed(1)));let o=document.querySelectorAll(".shortTemperature"),a=document.querySelectorAll(".shortPressure"),l=document.querySelectorAll(".shortHumidity"),u=document.querySelectorAll(".shortImg"),d=document.querySelectorAll(".shortHeader"),c=document.querySelectorAll(".short figcaption");let s=[],m=[];for(let t=0;t<e.length;t+=8)s.push(e[t].weather[0].icon),m.push(e[t].weather[0].description);for(let e=0;e<o.length;e++)o[e].innerHTML=`${i.temperature[e]}°C`,a[e].innerHTML=`${i.pressure[e]}hPa`,l[e].innerHTML=`${i.humidity[e]}%`,d[e].innerHTML=i.dayDate[e],u[e].src=v(s[e]),c[e].innerHTML=m[e];(f=document.querySelector(".short")).style.backgroundColor=g.dimness})(t),S(D.value,t[0].dt),A(t),r.style.display="block"):(n.style.display="block",document.getElementById("error-type").innerHTML=h,document.getElementById("error-message").innerHTML=t)})),document.querySelectorAll(".short").forEach(e=>{e.addEventListener("click",H),e.addEventListener("click",x)}),z.addEventListener("change",(function(e){document.getElementById("detailedHeader").querySelector("b").innerHTML=`${e.target.value}:00`,S(placeInput.value,I())}));let j=document.getElementById("leftArrow"),O=document.getElementById("rightArrow");j.addEventListener("click",e=>{z.value>z.min&&(z.value-=3),document.getElementById("detailedHeader").querySelector("b").innerHTML=`${z.value}:00`,S(D.value,I())}),O.addEventListener("click",e=>{z.value<=21&&(z.value=-1*(-1*z.value-3)),document.getElementById("detailedHeader").querySelector("b").innerHTML=`${z.value}:00`,S(D.value,I())}),window.addEventListener("load",(async function(e){p(),document.getElementById("leftArrow").src=i.a,document.getElementById("rightArrow").src=a.a}))}]);